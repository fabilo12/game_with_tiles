{"ast":null,"code":"export function drawTiles(state, payload) {\n  //function drawTiles(state, player, repo, color) {\n  const player = payload.player;\n  const repo = payload.repo;\n  const color = payload.color;\n\n  if (state[repo][color] > 0) {\n    state[player].drawn = Array(NUM_COLORS).fill(0);\n    state[player].drawn[color] = state[repo][color];\n    state[repo][color] = 0;\n\n    if (repo === \"middle\") {\n      if (state.startingTile === \"middle\") {\n        state.startingTile = player;\n      }\n    } else {\n      state.middle = add(state.middle, state[repo]);\n      state[repo] = Array(NUM_COLORS).fill(0);\n    }\n\n    let drawnColor = allOfOneColor(state[player].drawn);\n\n    if (!drawnColor.allOfOne) {\n      console.log(\"Detected more than one color.\");\n    }\n\n    if (drawnColor.color === -1) {\n      console.log(\"No color was drawn.\");\n    }\n\n    return state;\n  } else {\n    //TODO: Think about what should happen here\n    throw new Error(repo + \" contains no tile of color \" + color.toString() + \"!\");\n  } //}\n\n}","map":{"version":3,"names":["drawTiles","state","payload","player","repo","color","drawn","Array","NUM_COLORS","fill","startingTile","middle","add","drawnColor","allOfOneColor","allOfOne","console","log","Error","toString"],"sources":["/home/lorenz/programming/azul_create_react_app/src/reducerFunctions.js"],"sourcesContent":["export function drawTiles(state, payload) {\n\t//function drawTiles(state, player, repo, color) {\n\tconst player = payload.player;\n\tconst repo = payload.repo;\n\tconst color = payload.color;\n\tif (state[repo][color] > 0) {\n\t\tstate[player].drawn = Array(NUM_COLORS).fill(0);\n\t\tstate[player].drawn[color] = state[repo][color];\n\t\tstate[repo][color] = 0;\n\t\tif (repo === \"middle\") {\n\t\t\tif (state.startingTile === \"middle\") {\n\t\t\t\tstate.startingTile = player;\n\t\t\t}\n\t\t} else {\n\t\t\tstate.middle = add(state.middle, state[repo]);\n\t\t\tstate[repo] = Array(NUM_COLORS).fill(0);\n\t\t}\n\t\tlet drawnColor = allOfOneColor(state[player].drawn);\n\t\tif (!drawnColor.allOfOne) {\n\t\t\tconsole.log(\"Detected more than one color.\")\n\t\t}\n\t\tif (drawnColor.color === -1) {\n\t\t\tconsole.log(\"No color was drawn.\")\n\t\t}\n\t\treturn state;\n\t} else {\n\t\t//TODO: Think about what should happen here\n\t\tthrow new Error(repo + \" contains no tile of color \" + color.toString() + \"!\");\n\t}\n\t//}\n}"],"mappings":"AAAA,OAAO,SAASA,SAAT,CAAmBC,KAAnB,EAA0BC,OAA1B,EAAmC;EACzC;EACA,MAAMC,MAAM,GAAGD,OAAO,CAACC,MAAvB;EACA,MAAMC,IAAI,GAAGF,OAAO,CAACE,IAArB;EACA,MAAMC,KAAK,GAAGH,OAAO,CAACG,KAAtB;;EACA,IAAIJ,KAAK,CAACG,IAAD,CAAL,CAAYC,KAAZ,IAAqB,CAAzB,EAA4B;IAC3BJ,KAAK,CAACE,MAAD,CAAL,CAAcG,KAAd,GAAsBC,KAAK,CAACC,UAAD,CAAL,CAAkBC,IAAlB,CAAuB,CAAvB,CAAtB;IACAR,KAAK,CAACE,MAAD,CAAL,CAAcG,KAAd,CAAoBD,KAApB,IAA6BJ,KAAK,CAACG,IAAD,CAAL,CAAYC,KAAZ,CAA7B;IACAJ,KAAK,CAACG,IAAD,CAAL,CAAYC,KAAZ,IAAqB,CAArB;;IACA,IAAID,IAAI,KAAK,QAAb,EAAuB;MACtB,IAAIH,KAAK,CAACS,YAAN,KAAuB,QAA3B,EAAqC;QACpCT,KAAK,CAACS,YAAN,GAAqBP,MAArB;MACA;IACD,CAJD,MAIO;MACNF,KAAK,CAACU,MAAN,GAAeC,GAAG,CAACX,KAAK,CAACU,MAAP,EAAeV,KAAK,CAACG,IAAD,CAApB,CAAlB;MACAH,KAAK,CAACG,IAAD,CAAL,GAAcG,KAAK,CAACC,UAAD,CAAL,CAAkBC,IAAlB,CAAuB,CAAvB,CAAd;IACA;;IACD,IAAII,UAAU,GAAGC,aAAa,CAACb,KAAK,CAACE,MAAD,CAAL,CAAcG,KAAf,CAA9B;;IACA,IAAI,CAACO,UAAU,CAACE,QAAhB,EAA0B;MACzBC,OAAO,CAACC,GAAR,CAAY,+BAAZ;IACA;;IACD,IAAIJ,UAAU,CAACR,KAAX,KAAqB,CAAC,CAA1B,EAA6B;MAC5BW,OAAO,CAACC,GAAR,CAAY,qBAAZ;IACA;;IACD,OAAOhB,KAAP;EACA,CApBD,MAoBO;IACN;IACA,MAAM,IAAIiB,KAAJ,CAAUd,IAAI,GAAG,6BAAP,GAAuCC,KAAK,CAACc,QAAN,EAAvC,GAA0D,GAApE,CAAN;EACA,CA5BwC,CA6BzC;;AACA"},"metadata":{},"sourceType":"module"}