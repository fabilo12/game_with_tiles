{"ast":null,"code":"import _toConsumableArray from\"/home/lorenz/programming/azul_create_react_app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/lorenz/programming/azul_create_react_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext}from'react';import{Context}from'./Store.js';import'./DistViz.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DistViz(props){//DistViz is used in Center.js and Penalties.js\nvar _useContext=useContext(Context),_useContext2=_slicedToArray(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];var size=props.place==='middle'?'larger-size':'normal-size';var dist=tileColToDist(props.dist,state.nColor);return/*#__PURE__*/_jsxs(\"div\",{className:\"dist-viz-container\",children:[dist.map(function(el,i){return/*#__PURE__*/_jsx(\"button\",{className:['dist-viz-tile','tile-color-'+i,size].join(' '),onClick:function onClick(){return dispatch(getCallBack(state,i,props.place));},children:el},i);}),state.startingTile===props.place?/*#__PURE__*/_jsx(\"button\",{id:\"starting-tile\",className:['dist-viz-tile',size].join(' '),children:1}):null]});}function getCallBack(state,color,place){var callBack={type:''};//default reducer is identity function\nvar existColor=state.repos.at(-1).findIndex(function(el){return el===color;})>-1;if(place==='middle'&&existColor){callBack={type:'SELECT_TILES',payload:{color:color,repo:state.nRepos}};}else if(place.slice(0,6)==='player'){callBack={type:'PUT_TILES_INTO_ROW',payload:{}};}return callBack;}function tileColToDist(tileCol,nColor){return _toConsumableArray(Array(nColor).keys()).map(function(i){return tileCol.filter(function(el){return el===i;}).length;});}","map":{"version":3,"names":["React","useContext","Context","DistViz","props","state","dispatch","size","place","dist","tileColToDist","nColor","map","el","i","join","getCallBack","startingTile","color","callBack","type","existColor","repos","at","findIndex","payload","repo","nRepos","slice","tileCol","Array","keys","filter","length"],"sources":["/home/lorenz/programming/azul_create_react_app/src/components/DistViz.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport { Context } from './Store.js'\nimport './DistViz.css'\n\nexport default function DistViz(props) {\n//DistViz is used in Center.js and Penalties.js\n\n\tconst [state, dispatch] = useContext(Context);\n\n\tconst size = (props.place === 'middle') ? 'larger-size' : 'normal-size';\n\n\tconst dist = tileColToDist(props.dist, state.nColor);\n\n\treturn (\n\t\t<div className='dist-viz-container'>\n\t\t\t{dist.map(\n\t\t\t\t(el, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t    key={i} \n\t\t\t\t\t\t\tclassName={['dist-viz-tile', 'tile-color-' + i, size].join(' ')} \n\t\t\t\t\t\t\tonClick={() => dispatch(\n\t\t\t\t\t\t\t\tgetCallBack(state, i, props.place)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>{el}</button>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t)}\n\t\t\t{state.startingTile === props.place\n\t\t\t\t? <button\n\t\t\t\t\tid='starting-tile'\n\t\t\t\t\tclassName={['dist-viz-tile', size].join(' ')}\n\t\t\t\t>{1}</button>\n\t\t\t\t: null\n\t\t\t}\n\t\t</div >\n\t)\n}\n\nfunction getCallBack(state, color, place) {\n\tlet callBack = {type: ''};//default reducer is identity function\n\tconst existColor = (state.repos.at(-1).findIndex(el => el===color) > -1)\n\tif ((place === 'middle') && existColor) {\n\t\tcallBack = {\n\t\t  type: 'SELECT_TILES',\n\t\t  payload: {\n\t\t\tcolor: color,\n\t\t\trepo: state.nRepos,\n\t\t  }\n\t\t};\n\t} else if (place.slice(0,6)==='player') {\n\t\tcallBack = {\n\t\t\ttype: 'PUT_TILES_INTO_ROW',\n\t\t\tpayload: {},\n\t\t};\n\t}\n\treturn callBack\n}\n\nfunction tileColToDist(tileCol, nColor) {\n\treturn (\n\t\t[...Array(nColor).keys()].map(\n\t\t\ti => tileCol.filter(el => (el === i)).length\n\t\t)\n\t);\n}\n"],"mappings":"gRAAA,MAAOA,MAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,OAAT,KAAwB,YAAxB,CACA,MAAO,eAAP,C,wFAEA,cAAe,SAASC,QAAT,CAAiBC,KAAjB,CAAwB,CACvC;AAEC,gBAA0BH,UAAU,CAACC,OAAD,CAApC,4CAAOG,KAAP,iBAAcC,QAAd,iBAEA,GAAMC,KAAI,CAAIH,KAAK,CAACI,KAAN,GAAgB,QAAjB,CAA6B,aAA7B,CAA6C,aAA1D,CAEA,GAAMC,KAAI,CAAGC,aAAa,CAACN,KAAK,CAACK,IAAP,CAAaJ,KAAK,CAACM,MAAnB,CAA1B,CAEA,mBACC,aAAK,SAAS,CAAC,oBAAf,WACEF,IAAI,CAACG,GAAL,CACA,SAACC,EAAD,CAAKC,CAAL,CAAW,CACV,mBACC,eAEC,SAAS,CAAE,CAAC,eAAD,CAAkB,cAAgBA,CAAlC,CAAqCP,IAArC,EAA2CQ,IAA3C,CAAgD,GAAhD,CAFZ,CAGC,OAAO,CAAE,yBAAMT,SAAQ,CACtBU,WAAW,CAACX,KAAD,CAAQS,CAAR,CAAWV,KAAK,CAACI,KAAjB,CADW,CAAd,EAHV,UAMEK,EANF,EACSC,CADT,CADD,CASA,CAXD,CADF,CAcET,KAAK,CAACY,YAAN,GAAuBb,KAAK,CAACI,KAA7B,cACE,eACD,EAAE,CAAC,eADF,CAED,SAAS,CAAE,CAAC,eAAD,CAAkBD,IAAlB,EAAwBQ,IAAxB,CAA6B,GAA7B,CAFV,UAGA,CAHA,EADF,CAKE,IAnBJ,GADD,CAwBA,CAED,QAASC,YAAT,CAAqBX,KAArB,CAA4Ba,KAA5B,CAAmCV,KAAnC,CAA0C,CACzC,GAAIW,SAAQ,CAAG,CAACC,IAAI,CAAE,EAAP,CAAf,CAA0B;AAC1B,GAAMC,WAAU,CAAIhB,KAAK,CAACiB,KAAN,CAAYC,EAAZ,CAAe,CAAC,CAAhB,EAAmBC,SAAnB,CAA6B,SAAAX,EAAE,QAAIA,GAAE,GAAGK,KAAT,EAA/B,EAAiD,CAAC,CAAtE,CACA,GAAKV,KAAK,GAAK,QAAX,EAAwBa,UAA5B,CAAwC,CACvCF,QAAQ,CAAG,CACTC,IAAI,CAAE,cADG,CAETK,OAAO,CAAE,CACVP,KAAK,CAAEA,KADG,CAEVQ,IAAI,CAAErB,KAAK,CAACsB,MAFF,CAFA,CAAX,CAOA,CARD,IAQO,IAAInB,KAAK,CAACoB,KAAN,CAAY,CAAZ,CAAc,CAAd,IAAmB,QAAvB,CAAiC,CACvCT,QAAQ,CAAG,CACVC,IAAI,CAAE,oBADI,CAEVK,OAAO,CAAE,EAFC,CAAX,CAIA,CACD,MAAON,SAAP,CACA,CAED,QAAST,cAAT,CAAuBmB,OAAvB,CAAgClB,MAAhC,CAAwC,CACvC,MACC,oBAAImB,KAAK,CAACnB,MAAD,CAAL,CAAcoB,IAAd,EAAJ,EAA0BnB,GAA1B,CACC,SAAAE,CAAC,QAAIe,QAAO,CAACG,MAAR,CAAe,SAAAnB,EAAE,QAAKA,GAAE,GAAKC,CAAZ,EAAjB,EAAiCmB,MAArC,EADF,CADD,CAKA"},"metadata":{},"sourceType":"module"}