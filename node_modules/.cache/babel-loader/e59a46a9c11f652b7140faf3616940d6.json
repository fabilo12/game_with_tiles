{"ast":null,"code":"import getRandomInt from '../js_utils/getRandomInt.js';\nimport tileColSplitter from './tileColSplitter.js';\nexport default function fillRepos(state) {\n  const newState = { ...state\n  };\n\n  for (let i in newState.repos) {\n    let filled = false;\n\n    while (!filled) {\n      const randId = getRandomInt(0, newState.bag.length, newState.tilesPerRepo - newState.repos[i].length);\n      const splittedBag = tileColSplitter(newState.bag, randId);\n      newState.repos[i] = splittedBag.drawn;\n      newState.bag = splittedBag.rest;\n\n      if (newState.bag.length < newState.tilesPerRepo) {\n        const mutatedProps = refillBag(newState);\n      } else {\n        filled = true;\n        const newState = newState;\n      }\n    }\n  }\n\n  return newState;\n}\n\nfunction refillBag(st) {\n  return {\n    bag: st.usedTiles,\n    usedTiles: []\n  };\n}","map":{"version":3,"names":["getRandomInt","tileColSplitter","fillRepos","state","newState","i","repos","filled","randId","bag","length","tilesPerRepo","splittedBag","drawn","rest","mutatedProps","refillBag","st","usedTiles"],"sources":["/home/lorenz/programming/azul_create_react_app/src/azul_utils/fillRepos.js"],"sourcesContent":["import getRandomInt from '../js_utils/getRandomInt.js'\nimport tileColSplitter from './tileColSplitter.js'\n\nexport default function fillRepos(state) {\n\n\tconst newState = { ...state };\n\n\tfor (let i in newState.repos) {\n\t\tlet filled = false;\n\t\twhile (!filled) {\n\t\t\tconst randId = getRandomInt(\n\t\t\t\t0,\n\t\t\t\tnewState.bag.length,\n\t\t\t\tnewState.tilesPerRepo - newState.repos[i].length\n\t\t\t);\n\t\t\tconst splittedBag = tileColSplitter(newState.bag, randId);\n\t\t\tnewState.repos[i] = splittedBag.drawn;\n\t\t\tnewState.bag = splittedBag.rest;\n\t\t\tif (newState.bag.length < newState.tilesPerRepo) {\n\t\t\t\tconst mutatedProps = refillBag(newState);\n\t\t\t} else {\n\t\t\t\tfilled = true;\n\t\t\t\tconst newState = newState;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newState\n}\n\nfunction refillBag(st) {\n\treturn (\n\t\t{\n\t\t\tbag: st.usedTiles,\n\t\t\tusedTiles: [],\n\t\t}\n\t)\n}"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,6BAAzB;AACA,OAAOC,eAAP,MAA4B,sBAA5B;AAEA,eAAe,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;EAExC,MAAMC,QAAQ,GAAG,EAAE,GAAGD;EAAL,CAAjB;;EAEA,KAAK,IAAIE,CAAT,IAAcD,QAAQ,CAACE,KAAvB,EAA8B;IAC7B,IAAIC,MAAM,GAAG,KAAb;;IACA,OAAO,CAACA,MAAR,EAAgB;MACf,MAAMC,MAAM,GAAGR,YAAY,CAC1B,CAD0B,EAE1BI,QAAQ,CAACK,GAAT,CAAaC,MAFa,EAG1BN,QAAQ,CAACO,YAAT,GAAwBP,QAAQ,CAACE,KAAT,CAAeD,CAAf,EAAkBK,MAHhB,CAA3B;MAKA,MAAME,WAAW,GAAGX,eAAe,CAACG,QAAQ,CAACK,GAAV,EAAeD,MAAf,CAAnC;MACAJ,QAAQ,CAACE,KAAT,CAAeD,CAAf,IAAoBO,WAAW,CAACC,KAAhC;MACAT,QAAQ,CAACK,GAAT,GAAeG,WAAW,CAACE,IAA3B;;MACA,IAAIV,QAAQ,CAACK,GAAT,CAAaC,MAAb,GAAsBN,QAAQ,CAACO,YAAnC,EAAiD;QAChD,MAAMI,YAAY,GAAGC,SAAS,CAACZ,QAAD,CAA9B;MACA,CAFD,MAEO;QACNG,MAAM,GAAG,IAAT;QACA,MAAMH,QAAQ,GAAGA,QAAjB;MACA;IACD;EACD;;EAED,OAAOA,QAAP;AACA;;AAED,SAASY,SAAT,CAAmBC,EAAnB,EAAuB;EACtB,OACC;IACCR,GAAG,EAAEQ,EAAE,CAACC,SADT;IAECA,SAAS,EAAE;EAFZ,CADD;AAMA"},"metadata":{},"sourceType":"module"}