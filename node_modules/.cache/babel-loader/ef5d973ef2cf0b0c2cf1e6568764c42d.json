{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar object_get_listener_1 = require(\"./utils/object-get-listener\");\n\nvar copyObject = function (obj) {\n  return Object.assign(Object.create(null), obj);\n};\n\nexports.INVALID_NEW_GLOBAL_STATE = new Error('ReactN global state must be a function, null, object, or Promise.');\n\nvar GlobalStateManager = function () {\n  function GlobalStateManager(initialState, initialReducers) {\n    if (initialState === void 0) {\n      initialState = Object.create(null);\n    }\n\n    if (initialReducers === void 0) {\n      initialReducers = Object.create(null);\n    }\n\n    this._callbacks = new Set();\n    this._dispatchers = Object.create(null);\n    this._middlewares = new Set();\n    this._propertyListeners = new Map();\n    this._queue = new Map();\n    this._initialReducers = copyObject(initialReducers);\n    this._initialState = copyObject(initialState);\n    this._state = copyObject(initialState);\n    this.addReducers(initialReducers);\n  }\n\n  GlobalStateManager.prototype.addCallback = function (callback) {\n    var _this = this;\n\n    this._callbacks.add(callback);\n\n    return function () {\n      return _this.removeCallback(callback);\n    };\n  };\n\n  GlobalStateManager.prototype.addMiddleware = function (createMiddleware) {\n    var _this = this;\n\n    var middleware = createMiddleware(this.state, this.dispatchers);\n\n    this._middlewares.add(middleware);\n\n    return function () {\n      return _this.removeMiddleware(middleware);\n    };\n  };\n\n  GlobalStateManager.prototype.addPropertyListener = function (property, propertyListener) {\n    if (this.propertyListeners.has(property)) {\n      this.propertyListeners.get(property).add(propertyListener);\n    } else {\n      this.propertyListeners.set(property, new Set([propertyListener]));\n    }\n  };\n\n  GlobalStateManager.prototype.addReducer = function (name, reducer) {\n    var _this = this;\n\n    this._dispatchers[name] = this.createDispatcher(reducer, name);\n    return function () {\n      return _this.removeDispatcher(name);\n    };\n  };\n\n  GlobalStateManager.prototype.addReducers = function (reducers) {\n    var e_1, _a;\n\n    try {\n      for (var _b = __values(Object.entries(reducers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var _d = __read(_c.value, 2),\n            name_1 = _d[0],\n            reducer = _d[1];\n\n        this.addReducer(name_1, reducer);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n\n  GlobalStateManager.prototype.clearQueue = function () {\n    return this.queue.clear();\n  };\n\n  GlobalStateManager.prototype.createDispatcher = function (reducer, name) {\n    var _this = this;\n\n    if (name === void 0) {\n      name = reducer.name;\n    }\n\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return _this.set(reducer.apply(void 0, __spread([_this.state, _this.dispatcherMap], args)), name, args).then(function () {\n        return _this.state;\n      });\n    };\n  };\n\n  Object.defineProperty(GlobalStateManager.prototype, \"dispatcherMap\", {\n    get: function () {\n      var _this = this;\n\n      var dispatch = function (newGlobalState) {\n        return _this.set(newGlobalState).then(function () {\n          return _this.state;\n        });\n      };\n\n      return Object.assign(dispatch, this.dispatchers);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(GlobalStateManager.prototype, \"dispatchers\", {\n    get: function () {\n      return copyObject(this._dispatchers);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  GlobalStateManager.prototype.enqueue = function (property, value) {\n    this._queue.set(property, value);\n  };\n\n  GlobalStateManager.prototype.flush = function (reducerName, reducerArgs) {\n    var e_2, _a, e_3, _b, e_4, _c, e_5, _d;\n\n    var propertyListeners = new Set();\n    var stateChange = Object.create(null);\n    this.queue.forEach(function (value, key) {\n      stateChange[key] = value;\n    });\n\n    try {\n      for (var _e = __values(this.queue.entries()), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var _g = __read(_f.value, 2),\n            property = _g[0],\n            value = _g[1];\n\n        this._state[property] = value;\n\n        if (this.propertyListeners.has(property)) {\n          try {\n            for (var _h = (e_3 = void 0, __values(this.propertyListeners.get(property))), _j = _h.next(); !_j.done; _j = _h.next()) {\n              var propertyListener = _j.value;\n              propertyListeners.add(propertyListener);\n            }\n          } catch (e_3_1) {\n            e_3 = {\n              error: e_3_1\n            };\n          } finally {\n            try {\n              if (_j && !_j.done && (_b = _h.return)) _b.call(_h);\n            } finally {\n              if (e_3) throw e_3.error;\n            }\n          }\n        }\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    this.clearQueue();\n\n    try {\n      for (var propertyListeners_1 = __values(propertyListeners), propertyListeners_1_1 = propertyListeners_1.next(); !propertyListeners_1_1.done; propertyListeners_1_1 = propertyListeners_1.next()) {\n        var propertyListener = propertyListeners_1_1.value;\n        propertyListener();\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (propertyListeners_1_1 && !propertyListeners_1_1.done && (_c = propertyListeners_1.return)) _c.call(propertyListeners_1);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    try {\n      for (var _k = __values(this._callbacks), _l = _k.next(); !_l.done; _l = _k.next()) {\n        var callback = _l.value;\n        this.set(callback(this.state, this.dispatchers, stateChange, reducerName, reducerArgs));\n      }\n    } catch (e_5_1) {\n      e_5 = {\n        error: e_5_1\n      };\n    } finally {\n      try {\n        if (_l && !_l.done && (_d = _k.return)) _d.call(_k);\n      } finally {\n        if (e_5) throw e_5.error;\n      }\n    }\n\n    return stateChange;\n  };\n\n  GlobalStateManager.prototype.getDispatcher = function (name) {\n    if (this.hasDispatcher(name)) {\n      return this._dispatchers[name];\n    }\n\n    throw new Error(\"Cannot return unknown ReactN reducer `\" + name + \"`.\");\n  };\n\n  GlobalStateManager.prototype.hasCallback = function (callback) {\n    return this._callbacks.has(callback);\n  };\n\n  GlobalStateManager.prototype.hasMiddleware = function (middleware) {\n    return this._middlewares.has(middleware);\n  };\n\n  GlobalStateManager.prototype.hasPropertyListener = function (pl) {\n    var e_6, _a, e_7, _b;\n\n    try {\n      for (var _c = __values(this.propertyListeners.values()), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var propertyListeners = _d.value;\n\n        try {\n          for (var propertyListeners_2 = (e_7 = void 0, __values(propertyListeners)), propertyListeners_2_1 = propertyListeners_2.next(); !propertyListeners_2_1.done; propertyListeners_2_1 = propertyListeners_2.next()) {\n            var propertyListener = propertyListeners_2_1.value;\n\n            if (propertyListener === pl) {\n              return true;\n            }\n          }\n        } catch (e_7_1) {\n          e_7 = {\n            error: e_7_1\n          };\n        } finally {\n          try {\n            if (propertyListeners_2_1 && !propertyListeners_2_1.done && (_b = propertyListeners_2.return)) _b.call(propertyListeners_2);\n          } finally {\n            if (e_7) throw e_7.error;\n          }\n        }\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n\n    return false;\n  };\n\n  GlobalStateManager.prototype.hasDispatcher = function (name) {\n    return Object.prototype.hasOwnProperty.call(this._dispatchers, name);\n  };\n\n  Object.defineProperty(GlobalStateManager.prototype, \"queue\", {\n    get: function () {\n      return this._queue;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(GlobalStateManager.prototype, \"propertyListeners\", {\n    get: function () {\n      return this._propertyListeners;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  GlobalStateManager.prototype.removeCallback = function (callback) {\n    return this._callbacks.delete(callback);\n  };\n\n  GlobalStateManager.prototype.removeDispatcher = function (name) {\n    if (this.hasDispatcher(name)) {\n      delete this._dispatchers[name];\n      return true;\n    }\n\n    return false;\n  };\n\n  GlobalStateManager.prototype.removeMiddleware = function (middleware) {\n    return this._middlewares.delete(middleware);\n  };\n\n  GlobalStateManager.prototype.removePropertyListener = function (propertyListener) {\n    var e_8, _a;\n\n    var removed = false;\n\n    try {\n      for (var _b = __values(this.propertyListeners.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var propertyListeners = _c.value;\n\n        if (propertyListeners.delete(propertyListener)) {\n          removed = true;\n        }\n      }\n    } catch (e_8_1) {\n      e_8 = {\n        error: e_8_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_8) throw e_8.error;\n      }\n    }\n\n    return removed;\n  };\n\n  GlobalStateManager.prototype.reset = function () {\n    this._callbacks.clear();\n\n    this._dispatchers = Object.create(null);\n\n    this._middlewares.clear();\n\n    this._propertyListeners.clear();\n\n    this._queue.clear();\n\n    this.addReducers(this._initialReducers);\n    this._state = copyObject(this._initialState);\n  };\n\n  GlobalStateManager.prototype.set = function (newGlobalState, reducerName, reducerArgs) {\n    if (newGlobalState === null || typeof newGlobalState === 'undefined') {\n      return Promise.resolve(Object.create(null));\n    }\n\n    if (newGlobalState instanceof Promise) {\n      return this.setPromise(newGlobalState, reducerName, reducerArgs);\n    }\n\n    if (typeof newGlobalState === 'function') {\n      return this.setFunction(newGlobalState, reducerName, reducerArgs);\n    }\n\n    if (typeof newGlobalState === 'object') {\n      return this.setObject(newGlobalState, reducerName, reducerArgs);\n    }\n\n    throw exports.INVALID_NEW_GLOBAL_STATE;\n  };\n\n  GlobalStateManager.prototype.setFunction = function (f, reducerName, reducerArgs) {\n    return this.set(f(this.state, reducerName, reducerArgs), reducerName, reducerArgs);\n  };\n\n  GlobalStateManager.prototype.setObject = function (obj, reducerName, reducerArgs) {\n    var e_9, _a;\n\n    var properties = Object.keys(obj);\n\n    try {\n      for (var properties_1 = __values(properties), properties_1_1 = properties_1.next(); !properties_1_1.done; properties_1_1 = properties_1.next()) {\n        var property = properties_1_1.value;\n        var value = obj[property];\n        this.enqueue(property, value);\n      }\n    } catch (e_9_1) {\n      e_9 = {\n        error: e_9_1\n      };\n    } finally {\n      try {\n        if (properties_1_1 && !properties_1_1.done && (_a = properties_1.return)) _a.call(properties_1);\n      } finally {\n        if (e_9) throw e_9.error;\n      }\n    }\n\n    var stateChange = this.flush(reducerName, reducerArgs);\n    return Promise.resolve(stateChange);\n  };\n\n  GlobalStateManager.prototype.setPromise = function (promise, reducerName, reducerArgs) {\n    var _this = this;\n\n    return promise.then(function (result) {\n      return _this.set(result, reducerName, reducerArgs);\n    });\n  };\n\n  GlobalStateManager.prototype.spyState = function (propertyListener) {\n    var _this = this;\n\n    return object_get_listener_1.default(this._state, function (property) {\n      _this.addPropertyListener(property, propertyListener);\n    });\n  };\n\n  Object.defineProperty(GlobalStateManager.prototype, \"state\", {\n    get: function () {\n      return copyObject(this._state);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return GlobalStateManager;\n}();\n\nexports.default = GlobalStateManager;\n;","map":{"version":3,"names":["__values","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","__read","n","r","ar","e","push","error","__spread","arguments","concat","Object","defineProperty","exports","object_get_listener_1","require","copyObject","obj","assign","create","INVALID_NEW_GLOBAL_STATE","Error","GlobalStateManager","initialState","initialReducers","_callbacks","Set","_dispatchers","_middlewares","_propertyListeners","Map","_queue","_initialReducers","_initialState","_state","addReducers","prototype","addCallback","callback","_this","add","removeCallback","addMiddleware","createMiddleware","middleware","state","dispatchers","removeMiddleware","addPropertyListener","property","propertyListener","propertyListeners","has","get","set","addReducer","name","reducer","createDispatcher","removeDispatcher","reducers","e_1","_a","_b","entries","_c","_d","name_1","e_1_1","return","clearQueue","queue","clear","args","_i","apply","dispatcherMap","then","dispatch","newGlobalState","enumerable","configurable","enqueue","flush","reducerName","reducerArgs","e_2","e_3","e_4","e_5","stateChange","forEach","key","_e","_f","_g","_h","_j","e_3_1","e_2_1","propertyListeners_1","propertyListeners_1_1","e_4_1","_k","_l","e_5_1","getDispatcher","hasDispatcher","hasCallback","hasMiddleware","hasPropertyListener","pl","e_6","e_7","values","propertyListeners_2","propertyListeners_2_1","e_7_1","e_6_1","hasOwnProperty","delete","removePropertyListener","e_8","removed","e_8_1","reset","Promise","resolve","setPromise","setFunction","setObject","f","e_9","properties","keys","properties_1","properties_1_1","e_9_1","promise","result","spyState","default"],"sources":["/home/lorenz/programming/azul_create_react_app/node_modules/reactn/build/global-state-manager.js"],"sourcesContent":["\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar object_get_listener_1 = require(\"./utils/object-get-listener\");\nvar copyObject = function (obj) {\n    return Object.assign(Object.create(null), obj);\n};\nexports.INVALID_NEW_GLOBAL_STATE = new Error('ReactN global state must be a function, null, object, or Promise.');\nvar GlobalStateManager = (function () {\n    function GlobalStateManager(initialState, initialReducers) {\n        if (initialState === void 0) { initialState = Object.create(null); }\n        if (initialReducers === void 0) { initialReducers = Object.create(null); }\n        this._callbacks = new Set();\n        this._dispatchers = Object.create(null);\n        this._middlewares = new Set();\n        this._propertyListeners = new Map();\n        this._queue = new Map();\n        this._initialReducers = copyObject(initialReducers);\n        this._initialState = copyObject(initialState);\n        this._state = copyObject(initialState);\n        this.addReducers(initialReducers);\n    }\n    GlobalStateManager.prototype.addCallback = function (callback) {\n        var _this = this;\n        this._callbacks.add(callback);\n        return function () {\n            return _this.removeCallback(callback);\n        };\n    };\n    GlobalStateManager.prototype.addMiddleware = function (createMiddleware) {\n        var _this = this;\n        var middleware = createMiddleware(this.state, this.dispatchers);\n        this._middlewares.add(middleware);\n        return function () {\n            return _this.removeMiddleware(middleware);\n        };\n    };\n    GlobalStateManager.prototype.addPropertyListener = function (property, propertyListener) {\n        if (this.propertyListeners.has(property)) {\n            this.propertyListeners.get(property).add(propertyListener);\n        }\n        else {\n            this.propertyListeners.set(property, new Set([propertyListener]));\n        }\n    };\n    GlobalStateManager.prototype.addReducer = function (name, reducer) {\n        var _this = this;\n        this._dispatchers[name] = this.createDispatcher(reducer, name);\n        return function () {\n            return _this.removeDispatcher(name);\n        };\n    };\n    GlobalStateManager.prototype.addReducers = function (reducers) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(Object.entries(reducers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), name_1 = _d[0], reducer = _d[1];\n                this.addReducer(name_1, reducer);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    GlobalStateManager.prototype.clearQueue = function () {\n        return this.queue.clear();\n    };\n    GlobalStateManager.prototype.createDispatcher = function (reducer, name) {\n        var _this = this;\n        if (name === void 0) { name = reducer.name; }\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return _this.set(reducer.apply(void 0, __spread([_this.state, _this.dispatcherMap], args)), name, args)\n                .then(function () { return _this.state; });\n        };\n    };\n    Object.defineProperty(GlobalStateManager.prototype, \"dispatcherMap\", {\n        get: function () {\n            var _this = this;\n            var dispatch = function (newGlobalState) {\n                return _this.set(newGlobalState).then(function () { return _this.state; });\n            };\n            return Object.assign(dispatch, this.dispatchers);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GlobalStateManager.prototype, \"dispatchers\", {\n        get: function () {\n            return copyObject(this._dispatchers);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GlobalStateManager.prototype.enqueue = function (property, value) {\n        this._queue.set(property, value);\n    };\n    GlobalStateManager.prototype.flush = function (reducerName, reducerArgs) {\n        var e_2, _a, e_3, _b, e_4, _c, e_5, _d;\n        var propertyListeners = new Set();\n        var stateChange = Object.create(null);\n        this.queue.forEach(function (value, key) {\n            stateChange[key] = value;\n        });\n        try {\n            for (var _e = __values(this.queue.entries()), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var _g = __read(_f.value, 2), property = _g[0], value = _g[1];\n                this._state[property] = value;\n                if (this.propertyListeners.has(property)) {\n                    try {\n                        for (var _h = (e_3 = void 0, __values(this.propertyListeners.get(property))), _j = _h.next(); !_j.done; _j = _h.next()) {\n                            var propertyListener = _j.value;\n                            propertyListeners.add(propertyListener);\n                        }\n                    }\n                    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                    finally {\n                        try {\n                            if (_j && !_j.done && (_b = _h.return)) _b.call(_h);\n                        }\n                        finally { if (e_3) throw e_3.error; }\n                    }\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        this.clearQueue();\n        try {\n            for (var propertyListeners_1 = __values(propertyListeners), propertyListeners_1_1 = propertyListeners_1.next(); !propertyListeners_1_1.done; propertyListeners_1_1 = propertyListeners_1.next()) {\n                var propertyListener = propertyListeners_1_1.value;\n                propertyListener();\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (propertyListeners_1_1 && !propertyListeners_1_1.done && (_c = propertyListeners_1.return)) _c.call(propertyListeners_1);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        try {\n            for (var _k = __values(this._callbacks), _l = _k.next(); !_l.done; _l = _k.next()) {\n                var callback = _l.value;\n                this.set(callback(this.state, this.dispatchers, stateChange, reducerName, reducerArgs));\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_l && !_l.done && (_d = _k.return)) _d.call(_k);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        return stateChange;\n    };\n    GlobalStateManager.prototype.getDispatcher = function (name) {\n        if (this.hasDispatcher(name)) {\n            return this._dispatchers[name];\n        }\n        throw new Error(\"Cannot return unknown ReactN reducer `\" + name + \"`.\");\n    };\n    GlobalStateManager.prototype.hasCallback = function (callback) {\n        return this._callbacks.has(callback);\n    };\n    GlobalStateManager.prototype.hasMiddleware = function (middleware) {\n        return this._middlewares.has(middleware);\n    };\n    GlobalStateManager.prototype.hasPropertyListener = function (pl) {\n        var e_6, _a, e_7, _b;\n        try {\n            for (var _c = __values(this.propertyListeners.values()), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var propertyListeners = _d.value;\n                try {\n                    for (var propertyListeners_2 = (e_7 = void 0, __values(propertyListeners)), propertyListeners_2_1 = propertyListeners_2.next(); !propertyListeners_2_1.done; propertyListeners_2_1 = propertyListeners_2.next()) {\n                        var propertyListener = propertyListeners_2_1.value;\n                        if (propertyListener === pl) {\n                            return true;\n                        }\n                    }\n                }\n                catch (e_7_1) { e_7 = { error: e_7_1 }; }\n                finally {\n                    try {\n                        if (propertyListeners_2_1 && !propertyListeners_2_1.done && (_b = propertyListeners_2.return)) _b.call(propertyListeners_2);\n                    }\n                    finally { if (e_7) throw e_7.error; }\n                }\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n        return false;\n    };\n    GlobalStateManager.prototype.hasDispatcher = function (name) {\n        return Object.prototype.hasOwnProperty.call(this._dispatchers, name);\n    };\n    Object.defineProperty(GlobalStateManager.prototype, \"queue\", {\n        get: function () {\n            return this._queue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GlobalStateManager.prototype, \"propertyListeners\", {\n        get: function () {\n            return this._propertyListeners;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GlobalStateManager.prototype.removeCallback = function (callback) {\n        return this._callbacks.delete(callback);\n    };\n    GlobalStateManager.prototype.removeDispatcher = function (name) {\n        if (this.hasDispatcher(name)) {\n            delete this._dispatchers[name];\n            return true;\n        }\n        return false;\n    };\n    GlobalStateManager.prototype.removeMiddleware = function (middleware) {\n        return this._middlewares.delete(middleware);\n    };\n    GlobalStateManager.prototype.removePropertyListener = function (propertyListener) {\n        var e_8, _a;\n        var removed = false;\n        try {\n            for (var _b = __values(this.propertyListeners.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var propertyListeners = _c.value;\n                if (propertyListeners.delete(propertyListener)) {\n                    removed = true;\n                }\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        return removed;\n    };\n    GlobalStateManager.prototype.reset = function () {\n        this._callbacks.clear();\n        this._dispatchers = Object.create(null);\n        this._middlewares.clear();\n        this._propertyListeners.clear();\n        this._queue.clear();\n        this.addReducers(this._initialReducers);\n        this._state = copyObject(this._initialState);\n    };\n    GlobalStateManager.prototype.set = function (newGlobalState, reducerName, reducerArgs) {\n        if (newGlobalState === null ||\n            typeof newGlobalState === 'undefined') {\n            return Promise.resolve(Object.create(null));\n        }\n        if (newGlobalState instanceof Promise) {\n            return this.setPromise(newGlobalState, reducerName, reducerArgs);\n        }\n        if (typeof newGlobalState === 'function') {\n            return this.setFunction(newGlobalState, reducerName, reducerArgs);\n        }\n        if (typeof newGlobalState === 'object') {\n            return this.setObject(newGlobalState, reducerName, reducerArgs);\n        }\n        throw exports.INVALID_NEW_GLOBAL_STATE;\n    };\n    GlobalStateManager.prototype.setFunction = function (f, reducerName, reducerArgs) {\n        return this.set(f(this.state, reducerName, reducerArgs), reducerName, reducerArgs);\n    };\n    GlobalStateManager.prototype.setObject = function (obj, reducerName, reducerArgs) {\n        var e_9, _a;\n        var properties = Object.keys(obj);\n        try {\n            for (var properties_1 = __values(properties), properties_1_1 = properties_1.next(); !properties_1_1.done; properties_1_1 = properties_1.next()) {\n                var property = properties_1_1.value;\n                var value = obj[property];\n                this.enqueue(property, value);\n            }\n        }\n        catch (e_9_1) { e_9 = { error: e_9_1 }; }\n        finally {\n            try {\n                if (properties_1_1 && !properties_1_1.done && (_a = properties_1.return)) _a.call(properties_1);\n            }\n            finally { if (e_9) throw e_9.error; }\n        }\n        var stateChange = this.flush(reducerName, reducerArgs);\n        return Promise.resolve(stateChange);\n    };\n    GlobalStateManager.prototype.setPromise = function (promise, reducerName, reducerArgs) {\n        var _this = this;\n        return promise\n            .then(function (result) {\n            return _this.set(result, reducerName, reducerArgs);\n        });\n    };\n    GlobalStateManager.prototype.spyState = function (propertyListener) {\n        var _this = this;\n        return object_get_listener_1.default(this._state, function (property) {\n            _this.addPropertyListener(property, propertyListener);\n        });\n    };\n    Object.defineProperty(GlobalStateManager.prototype, \"state\", {\n        get: function () {\n            return copyObject(this._state);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return GlobalStateManager;\n}());\nexports.default = GlobalStateManager;\n;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}